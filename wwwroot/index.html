<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript">
        function ajax(url) {
            let call = fetch(url)
            let jsonResponse = call.then(response => response.json());
            return jsonResponse;
        }

        function onStartConversion(){

            let rsd = document.querySelector("#rsd").value;
            let valuta = document.querySelector("#valuta").value;

            let vebServisUrl = window.location.origin + "/Conversion/" + valuta + "?rsd="+rsd;

            let response = ajax(vebServisUrl);

            response.then( json => prikazi(json));  
        }

        function prikazi(json){
            let euroVrednost = document.querySelector("#konvertovanaVrednost");
            euroVrednost.innerHTML = json.value;
        }

    </script>
</head>
<body>

    <h1>Konverzija valute</h2>

    <label for="rsd">Unesi vrednost u dinarima:</label>
    <input type="number" id="rsd" placeholder="RSD"/>
    <br/>
    <label for="valuta">Odaberi valutu:</label>
    <select id="valuta" placeholder="RSD">
        <option value="euro">Euro</option>
        <option value="usd">US dolar</option>
        <option value="chf">Svajcarski franak</option>
    </select>
    <br/>
    <button onclick="onStartConversion()">Konvertuj</button>
    <br/>
    <label>Vrednost u odabranoj valuti je:</label> <span id="konvertovanaVrednost"></span>

</body>
</html>